<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title>OFFLINEIMAP</title>
</head>
<body>

<h1 align=center>OFFLINEIMAP</h1>
<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#INSTALLATION">INSTALLATION</a><br>
<a href="#CONFIGURATION">CONFIGURATION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#ERRORS">ERRORS</a><br>
<a href="#OTHER FREQUENTLY ASKED QUESTIONS">OTHER FREQUENTLY ASKED QUESTIONS</a><br>
<a href="#CONFORMING TO">CONFORMING TO</a><br>
<a href="#NOTES">NOTES</a><br>
<a href="#BUGS">BUGS</a><br>
<a href="#COPYRIGHT">COPYRIGHT</a><br>
<a href="#AUTHOR">AUTHOR</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>
<!-- Creator     : groff version 1.17.2 -->
<!-- CreationDate: Sun Jul 21 20:54:05 2002 -->
<a name="NAME"></a>
<h2>NAME</h2>
<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
OfflineIMAP - Powerful IMAP/Maildir synchronization and reader support</td></table>
<a name="SYNOPSIS"></a>
<h2>SYNOPSIS</h2>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
<b>offlineimap</b> [ <b>-1</b> ] [ <b>-a</b>
<i>accountlist</i> ] [ <b>-c</b> <i>configfile</i> ]<br>
[ <b>-d</b> ] [ <b>-o</b> ] [ <b>-u</b> <i>interface</i>
]</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
<b>offlineimap -h</b> | <b>--help</b></td></table>
<a name="DESCRIPTION"></a>
<h2>DESCRIPTION</h2>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
<b>OfflineIMAP</b> is a tool to simplify your e-mail
reading. With <b>OfflineIMAP,</b> you can read the same
mailbox from multiple computers. You get a current copy of
your messages on each computer, and changes you make one
place will be visible on all other systems. For instance,
you can delete a message on your home computer, and it will
appear deleted on your work computer as well.
<b>OfflineIMAP</b> is also useful if you want to use a mail
reader that does not have IMAP support, has poor IMAP
support, or does not provide disconnected
operation.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
<b>OfflineIMAP</b> is <i>FAST;</i> it synchronizes my two
accounts with over 50 folders in 3 seconds. Other similar
tools might take over a minute, and achieve a less-reliable
result. Some mail readers can take over 10 minutes to do the
same thing, and some don't even support it at all. Unlike
other mail tools, <b>OfflineIMAP</b> features a
multi-threaded synchronization algorithm that can
dramatically speed up performance in many situations by
synchronizing several different things
simultaneously.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
<b>OfflineIMAP</b> is <i>FLEXIBLE;</i> you can customize
which folders are synced via regular expressions, lists, or
Python expressions; a versatile and comprehensive
configuration file is used to control behavior; two user
interfaces are built-in; fine-tuning of synchronization
performance is possible; internal or external automation is
supported; SSL and PREAUTH tunnels are both supported;
offline (or &quot;unplugged&quot;) reading is supported; and
esoteric IMAP features are supported to ensure compatibility
with the widest variety of IMAP servers.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
<b>OfflineIMAP</b> is <i>SAFE;</i> it uses an algorithm
designed to prevent mail loss at all costs. Because of the
design of this algorithm, even programming errors should not
result in loss of mail. I am so confident in the algorithm
that I use my own personal and work accounts for testing of
<b>OfflineIMAP</b> pre-release, development, and beta
releases.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="4%"></td><td width="96%">
<b>METHOD OF OPERATION</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
<b>OfflineIMAP</b> operates by maintaining a hierarchy of
mail folders in Maildir format locally. Your own mail reader
will read mail from this tree, and need never know that the
mail comes from IMAP. <b>OfflineIMAP</b> will detect changes
to the mail folders on your IMAP server and your own
computer and bi-directionally synchronize them, copying,
marking, and deleting messages as necessary.</td></table>
<a name="INSTALLATION"></a>
<h2>INSTALLATION</h2>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
If you are reading this document via the &quot;man&quot;
command, it is likely that you have no installation tasks to
perform; your system administrator has already installed it.
If you need to install it yourself, you have three options:
a system-wide installation with Debian, system-wide
installation with other systems, and a single-user
installation. You can download the latest version of
OfflineIMAP from
http://quux.org/devel/offlineimap/.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="4%"></td><td width="96%">
<b>PREREQUISITES</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
In order to use OfflineIMAP, you need to have these
conditions satisfied:</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="21%"></td><td width="79%">
Your mail server must support IMAP. Most Internet Service
Providers and corporate networks do, and most operating
systems have an IMAP implementation readily
available.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="21%"></td><td width="79%">
You must have Python version 2.2.1 or above installed. If
you are running on Debian GNU/Linux, this requirement will
automatically be taken care of for you. If you do not have
Python already, check with your system administrator or
operating system vendor; or, download it from
http://www.python.org/. If you intend to use the Tk
interface, you must have Tkiner (python-tk) installed. If
you intend to use the SSL interface, your Python must have
been built with SSL support.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="21%"></td><td width="79%">
Have a mail reader that supports the Maildir mailbox format.
Most modern mail readers have this support built-in, so you
can choose from a wide variety of mail servers. This format
is also known as the &quot;qmail&quot; format, so any mail
reader compatible with it will work with
OfflineIMAP.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="4%"></td><td width="96%">
<b>DEBIAN SYSTEM-WIDE INSTALLATION</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
If you are tracking Debian unstable, you may install
<b>OfflineIMAP</b> by simply running the following command
as root:</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
<b>apt-get install offlineimap</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
If you are not tracking Debian unstable, download the Debian
.deb package from the OfflineIMAP website and then run
<b>dpkg -i</b> to install the downloaded package. Then, go
to CONFIGURATION below. You will type <b>offlineimap</b> to
invoke the program.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="4%"></td><td width="96%">
<b>OTHER SYSTEM-WIDE INSTALLATION</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
Download the tar.gz version of the package from the website.
Then run these commands:</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
<b>tar -zxvf offlineimap-x.y.z.tar.gz<br>
cd offlineimap-x.y.z<br>
python2.2 setup.py</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
Some systems will need to use <b>python</b> instead of
<b>python2.2.</b> Next, proceed to configuration. You will
type <b>offlineimap</b> to invoke the program.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="4%"></td><td width="96%">
<b>SINGLE-ACCOUNT INSTALLATION</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
Download the tar.gz version of the package from the website.
Then run these commands:</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
<b>tar -zxvf offlineimap-x.y.z.tar.gz<br>
cd offlineimap-x.y.z</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
When you want to run <b>OfflineIMAP,</b> you will issue the
<b>cd</b> command as above and then type
<b>./offlineimap;</b> there is no installation step
necessary.</td></table>
<a name="CONFIGURATION"></a>
<h2>CONFIGURATION</h2>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
<b>OfflineIMAP</b> is regulated by a configuration file that
is normally stored in <i>~/.offlineimaprc.</i>
<b>OfflineIMAP</b> ships with a file named
<i>offlineimap.conf</i> that you should copy to that
location and then edit. This file is vital to proper
operation of the system; it sets everything you need to run
<b>OfflineIMAP.</b> Full documentation for the configuration
file is included within the sample file.</td></table>
<a name="OPTIONS"></a>
<h2>OPTIONS</h2>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
Most configuration is done via the configuration file.
Nevertheless, there are a few options that you may set for
<b>OfflineIMAP.</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
<b>-1</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="21%"></td><td width="79%">
Disable all multithreading operations and use solely a
single-thread sync. This effectively sets the
<b>maxsyncaccounts</b> and all <b>maxconnections</b>
configuration file variables to 1.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
<b>-a</b> <i>accountlist</i></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="21%"></td><td width="79%">
Overrides the <b>accounts</b> section in the config file.
Lets you specify a particular account or set of accounts to
sync without having to edit the config file. You might use
this to exclude certain accounts, or to sync some accounts
that you normally prefer not to.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
<b>-c</b> <i>configfile</i></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="21%"></td><td width="79%">
Specifies a configuration file to use in lieu of the
default, <i>~/.offlineimaprc.</i></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
<b>-d</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="21%"></td><td width="79%">
Enables IMAP protocol stream and parsing debugging. This is
useful if you are trying to track down a malfunction or
figure out what is going on under the hood. I suggest that
you use this with <b>-1</b> in order to make the results
more sensible. Note that this output will contain full IMAP
protocol in plain text, including passwords, so take care to
remove that from the debugging output before sending it to
anyone else.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
<b>-o</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="21%"></td><td width="79%">
Run only once, ignoring any autorefresh setting in the
config file.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
<b>-h, --help</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="21%"></td><td width="79%">
Show summary of options.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
<b>-u</b> <i>interface</i></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="21%"></td><td width="79%">
Specifies an alternative user interface module to use. This
overrides the default specified in the configuration file.
The UI specified with <b>-u</b> will be forced to be used,
even if its <b>isuable()</b> method states that it cannot
be. Use this option with care.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="21%"></td><td width="79%">
The pre-defined options are <b>Tk.TKUI</b> (a graphical
interface), <b>TTY.TTYUI</b> (a text-mode interface),
<b>Noninteractive.Basic</b> (a non-interactive mode suitable
for cronning), and <b>Noninteractive.Quiet</b> (a mode that
generates no output except for errors).</td></table>
<a name="EXAMPLES"></a>
<h2>EXAMPLES</h2>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
Here is an example configuration for a particularly complex
situation; more examples will be added later.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="4%"></td><td width="96%">
<b>MULTIPLE ACCOUNTS WITH MUTT</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
This example shows you how to set up <b>OfflineIMAP</b> to
synchronize multiple accounts with the mutt mail
reader.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
Start by creating a directory to hold your folders:<b><br>
mkdir ~/Mail</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
In your <i>~/.offlineimaprc,</i> specify this:<b><br>
accounts = Personal, Work</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
Make sure that you have both a <b>[Personal]</b> and a
<b>[Work]</b> section, with different localfolder pathnames
and enable <b>[mbnames].</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
In each account section, do something like this:<b><br>
localfolders = ~/Mail/Personal</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
Add these lines to your <i>~/.muttrc:</i><b><br>
source ~/path-to-mbnames-muttrc-mailboxes<br>
folder-hook Personal set
from=&quot;youremail@personal.com&quot;<br>
folder-hook Work set from=&quot;youremail@work.com&quot;<br>
set mbox_type=Maildir<br>
set folder=$HOME/Mail<br>
set spoolfile=+Personal/INBOX</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
That's it!</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="4%"></td><td width="96%">
<b>UW-IMAPD AND REFERENCES</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
Some users with a UW-IMAPD server need to use
<b>OfflineIMAP's</b> &quot;reference&quot; feature to get at
their mailboxes, specifying a reference of
&quot;~/Mail&quot; or &quot;#mh/&quot; depending on the
configuration. The below configuration from docwhat@gerf.org
shows using a reference of Mail, a nametrans that strips the
leading Mail/ off incoming folder names, and a folderfilter
that limits the folders synced to just three.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
<b>[Gerf]<br>
localfolders = ~/Mail<br>
remotehost = gerf.org<br>
ssl = yes<br>
remoteuser = docwhat<br>
reference = Mail<br>
# Trims off the preceeding Mail on all the folder names.<br>
nametrans = lambda foldername: \<br>
re.sub('^Mail/', '', foldername)<br>
# Yeah, you have to mention the Mail dir, even though it<br>
# would seem intuitive that reference would trim it.<br>
folderfilter = lambda foldername: foldername in [<br>
'Mail/INBOX',<br>
'Mail/list/zaurus-general',<br>
'Mail/list/zaurus-dev',<br>
]<br>
maxconnections = 1<br>
holdconnectionopen = no</b></td></table>
<a name="ERRORS"></a>
<h2>ERRORS</h2>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
If you get one of some frequently-encountered or confusing
errors, please check this section.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="4%"></td><td width="96%">
<b>UID validity problem for folder</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
IMAP servers use a unique ID (UID) to refer to a specific
message. This number is guaranteed to be unique to a
particular message FOREVER. No other message in the same
folder will ever get the same UID. UIDs are an integral part
of OfflineIMAP's synchronization scheme; they are used to
match up messages on your computer to messages on the
server.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
Sometimes, the UIDs on the server might get reset. Usually
this will happen if you delete and then recreate a folder.
When you create a folder, the server will often start the
UID back from 1. But <b>OfflineIMAP</b> might still have the
UIDs from the previous folder by the same name stored.
<b>OfflineIMAP</b> will detect this condition and skip the
folder. This is GOOD, because it prevents data
loss.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
You can fix it by removing your local folder and cache data.
For instance, if your folders are under <i>~/Folders</i> and
the folder with the problem is INBOX, you'd type
this:</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
<b>rm -r ~/Folders/INBOX<br>
rm ~/.offlineimap/AccountName/INBOX</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
(replacing AccountName with the account name as specified in
<i>~/.offlineimaprc)</i></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
Next time you run <b>OfflineIMAP,</b> it will re-download
the folder with the new UIDs. Note that the procedure
specified above will lose any local changes made to the
folder.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
Some IMAP servers are broken and do not support UIDs
properly. If you continue to get this error for all your
folders even after performing the above procedure, it is
likely that your IMAP server falls into this category.
<b>OfflineIMAP</b> is incompatible with such servers. Using
<b>OfflineIMAP</b> with them will not destroy any mail, but
at the same time, it will not actually synchronize it
either. (OfflineIMAP will detect this condition and abort
prior to synchronization)</td></table>
<a name="OTHER FREQUENTLY ASKED QUESTIONS"></a>
<h2>OTHER FREQUENTLY ASKED QUESTIONS</h2>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
There are some other FAQs that might not fit into another
section of this document, and they are enumerated
here.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
<b>What platforms does OfflineIMAP run on?</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="21%"></td><td width="79%">
It should run on most platforms supported by Python, which
are quite a few.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
<b>I'm using Mutt. Other IMAP sync programs require me to
use set maildir_trash=yes . Do I need to do that with
OfflineIMAP?</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="21%"></td><td width="79%">
No. <b>OfflineIMAP</b> is smart enough to figure out message
deletion without this extra crutch. You'll get the best
results if you don't use this setting, in fact.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
<b>How do I specify the names of my
folders?</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="21%"></td><td width="79%">
You do not need to. <b>OfflineIMAP</b> is smart enough to
automatically figure out what folders are present on the
IMAP server and synchronize them. You can use the
<b>folderfilter</b> and <b>foldertrans</b> configuration
file options to request certain folders and rename them as
they come in if you like.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
<b>How can I prevent certain folders from being
synced?</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="21%"></td><td width="79%">
Use the <b>folderfilter</b> option in the configuration
file.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
<b>How can I add or delete a folder?</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="21%"></td><td width="79%">
<b>OfflineIMAP</b> does not currently provide this feature,
but if you create a new folder on the IMAP server, it will
be created locally automatically.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
<b>Are there any other warnings that I should be aware
of?</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="21%"></td><td width="79%">
Yes; see the NOTES section below.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
<b>What is the mailbox name recorder (mbnames)
for?</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="21%"></td><td width="79%">
The Mutt mail reader is not capable of automatically
determining the names of your mailboxes. OfflineIMAP can
help it (or many other) programs out be writing these names
out in a format you specify. See the example
offlineimap.conf file for details.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
<b>Can I synchronize multiple accounts with
OfflineIMAP?</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="21%"></td><td width="79%">
Sure. Just name them all in the accounts line in the general
section of the config file, and add a per-account section
for each one.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
<b>Does OfflineIMAP support POP?</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="21%"></td><td width="79%">
No. POP is not robust enough to do a completely reliable
multi-machine synchronization like OfflineIMAP can do.
OfflineIMAP will not support it.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
<b>Do you support mailbox formats other than
Maildir?</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="21%"></td><td width="79%">
Not at present. There is no technical reason not to; just no
demand yet. Maildir is a superior format
anyway.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
<b>[technical] Why are your Maildir message filenames so
huge?</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="21%"></td><td width="79%">
<b>OfflineIMAP</b> has two relevant principles: 1) never
modifying your messages in any way and 2) ensuring 100%
reliable synchronizations. In order to do a reliable sync,
<b>OfflineIMAP</b> must have a way to uniquely identify each
e-mail. Three pieces of information are required to do this:
your account name, the folder name, and the message UID. The
account name can be calculated from the path in which your
messages are. The folder name can usually be as well, BUT
some mail clients move messages between folders by simply
moving the file, leaving the name intact.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="21%"></td><td width="79%">
So, <b>OfflineIMAP</b> must store both a UID folder ID. The
folder ID is necessary so <b>OfflineIMAP</b> can detect a
message moved to a different folder. <b>OfflineIMAP</b>
stores the UID (U= number) and an md5sum of the foldername
(FMD5= number) to facilitate this.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
<b>What is the speed of OfflineIMAP's sync?</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="21%"></td><td width="79%">
<b>OfflineIMAP</b> versions 2.0 and above contain a
multithreaded system. A good way to experiment is by setting
maxsyncaccounts to 3 and maxconnections to 3 in each account
clause.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="21%"></td><td width="79%">
This lets OfflineIMAP open up multiple connections
simultaneously. That will let it process multiple folders
and messages at once. In most cases, this will increase
performance of the sync.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="21%"></td><td width="79%">
Don't set the number too high. If you do that, things might
actually slow down as your link gets saturated. Also, too
many connections can cause mail servers to have excessive
load. Administrators might take unkindly to this, and the
server might bog down. There are many variables in the
optimal setting; experimentation may help.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="21%"></td><td width="79%">
An informal benchmark yields these results for my
setup:</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="21%"></td><td width="79%">
10 minutes with MacOS X Mail.app &quot;manual
cache&quot;<br>
5 minutes with GNUS agent sync<br>
20 seconds with OfflineIMAP 1.x<br>
9 seconds with OfflineIMAP 2.x<br>
3 seconds with OfflineIMAP 3.x &quot;cold start&quot;<br>
2 seconds with OfflineIMAP 3.x &quot;held
connection&quot;</td></table>
<a name="CONFORMING TO"></a>
<h2>CONFORMING TO</h2>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="21%"></td><td width="79%">
Internet Message Access Protocol version 4rev1 (IMAP 4rev1)
as specified in RFC2060</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="21%"></td><td width="79%">
Maildir as specified in
http://www.qmail.org/qmail-manual-html/man5/maildir.html and
http://cr.yp.to/proto/maildir.html.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="21%"></td><td width="79%">
Standard Python 2.2.1 as implemented on POSIX-compliant
systems.</td></table>
<a name="NOTES"></a>
<h2>NOTES</h2>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="4%"></td><td width="96%">
<b>DELETING LOCAL FOLDERS</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
<b>OfflineIMAP</b> does a two-way synchronization. That is,
if you make a change to the mail on the server, it will be
propogated to your local copy, and vise-versa. Some people
might think that it would be wise to just delete all their
local mail folders periodically. If you do this with
OfflineIMAP, remember to also remove your local status cache
(~/.offlineimap by default). Otherwise, OfflineIMAP will
take this as an intentional deletion of many messages and
will interpret your action as requesting them to be deleted
from the server as well. (If you don't understand this,
don't worry; you probably won't encounter this
situation)</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="4%"></td><td width="96%">
<b>COPYING MESSAGES BETWEEN FOLDERS</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
Normally, when you copy a message between folders or add a
new message to a folder locally, <b>OfflineIMAP</b> will
just do the right thing. However, sometimes this can be
tricky -- if your IMAP server does not provide the SEARCH
command, or does not return something useful,
<b>OfflineIMAP</b> cannot determine the new UID of the
message. So, in these rare instances, OfflineIMAP will
upload the message to the IMAP server and delete it from
your local folder. Then, on your next sync, the message will
be re-downloaded with the proper UID. <b>OfflineIMAP</b>
makes sure that the message was properly uploaded before
deleting it, so there should be no risk of data
loss.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="4%"></td><td width="96%">
<b>MAILING LIST</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
There is an OfflineIMAP mailing list available.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
To subscribe, send the text &quot;Subscribe&quot; in the
subject of a mail to offlineimap-request@complete.org. To
post, send the message to
offlineimap@complete.org.</td></table>
<a name="BUGS"></a>
<h2>BUGS</h2>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
Reports of bugs should be sent via e-mail to the
<b>OfflineIMAP</b> bug-tracking system (BTS) at
offlineimap@bugs.complete.org or submitted on-line using the
Web interface at http://bugs.complete.org/. The Web site
also lists all current bugs, where you can check their
status or contribute to fixing them.</td></table>
<a name="COPYRIGHT"></a>
<h2>COPYRIGHT</h2>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
OfflineIMAP is Copyright (C) 2002 John Goerzen.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
This program is free software; you can redistribute it
and/or modify it under the terms of the GNU General Public
License as published by the Free Software Foundation; either
version 2 of the License, or (at your option) any later
version.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
This program is distributed in the hope that it will be
useful, but WITHOUT ANY WARRANTY; without even the implied
warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
PURPOSE. See the GNU General Public License for more
details.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
You should have received a copy of the GNU General Public
License along with this program; if not, write
to:</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
Free Software Foundation, Inc.<br>
59 Temple Place<br>
Suite 330<br>
Boston, MA 02111-1307<br>
USA</td></table>
<a name="AUTHOR"></a>
<h2>AUTHOR</h2>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
<b>OfflineIMAP,</b> its libraries, documentation, and all
included files, except where noted, was written by John
Goerzen &lt;jgoerzen@complete.org&gt; and copyright is held
as stated in the COPYRIGHT section.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
OfflineIMAP may be downloaded, and information found, from
its homepage via either Gopher or HTTP:</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
gopher://quux.org/1/devel/offlineimap<br>
http://quux.org/devel/offlineimap</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
OfflineIMAP may also be downloaded using Subversion.
Additionally, the distributed tar.gz may be updated with a
simple &quot;svn update&quot; command; it is ready to go.
For information on getting OfflineIMAP with Subversion,
please visit:</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
http://svn.complete.org/</td></table>
<a name="SEE ALSO"></a>
<h2>SEE ALSO</h2>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td><td width="90%">
<b>mutt</b>(1), <b>python</b>(1).</td></table>
<hr>
</body>
</html>
